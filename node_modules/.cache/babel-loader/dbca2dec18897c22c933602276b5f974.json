{"ast":null,"code":"import _objectSpread from \"C:/Users/scarleti/Desktop/Cyril/React/rigged/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/scarleti/Desktop/Cyril/React/rigged/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"C:/Users/scarleti/Desktop/Cyril/React/rigged/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\scarleti\\\\Desktop\\\\Cyril\\\\React\\\\rigged\\\\src\\\\Stacy.js\",\n    _s = $RefreshSig$();\n\n// Auto-generated by https://github.com/react-spring/gltfjsx\nimport * as THREE from \"three\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useThree, useLoader, useFrame } from \"@react-three/fiber\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { getMouseDegrees } from \"./utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction moveJoint(mouse, joint) {\n  var degreeLimit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 40;\n  var degrees = getMouseDegrees(mouse.x, mouse.y, degreeLimit);\n  joint.rotation.xD = THREE.MathUtils.lerp(joint.rotation.xD || 0, degrees.y, 0.1);\n  joint.rotation.yD = THREE.MathUtils.lerp(joint.rotation.yD || 0, degrees.x, 0.1);\n  joint.rotation.x = THREE.Math.degToRad(joint.rotation.xD);\n  joint.rotation.y = THREE.Math.degToRad(joint.rotation.yD);\n}\n\nexport default function Model(_ref) {\n  _s();\n\n  var mouse = _ref.mouse,\n      props = _objectWithoutProperties(_ref, [\"mouse\"]);\n\n  var group = useRef();\n\n  var _useLoader = useLoader(GLTFLoader, \"/stacy.glb\"),\n      nodes = _useLoader.nodes,\n      animations = _useLoader.animations;\n\n  var texture = useLoader(THREE.TextureLoader, \"/stacy.jpg\");\n  var actions = useRef();\n\n  var _useState = useState(function () {\n    return new THREE.AnimationMixer();\n  }),\n      _useState2 = _slicedToArray(_useState, 1),\n      mixer = _useState2[0];\n\n  useFrame(function (state, delta) {\n    return mixer.update(delta);\n  });\n  useEffect(function () {\n    actions.current = {\n      idle: mixer.clipAction(animations[8], group.current)\n    };\n    actions.current.idle.play();\n    return function () {\n      return animations.forEach(function (clip) {\n        return mixer.uncacheClip(clip);\n      });\n    };\n  }, []);\n\n  var _useThree = useThree(),\n      size = _useThree.size;\n\n  useFrame(function (state, delta) {\n    var mouse = {\n      x: size.width / 2 + state.mouse.x * size.width / 2,\n      y: size.height / 2 + -state.mouse.y * size.height / 2\n    };\n    mixer.update(delta);\n    moveJoint(mouse, nodes.mixamorigNeck);\n    moveJoint(mouse, nodes.mixamorigSpine);\n  });\n  return /*#__PURE__*/_jsxDEV(\"group\", _objectSpread(_objectSpread({\n    ref: group\n  }, props), {}, {\n    dispose: null,\n    children: /*#__PURE__*/_jsxDEV(\"group\", {\n      rotation: [Math.PI / 2, 0, 0],\n      children: [/*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: nodes[\"mixamorigHips\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"skinnedMesh\", {\n        receiveShadow: true,\n        castShadow: true,\n        geometry: nodes[\"stacy\"].geometry,\n        skeleton: nodes[\"stacy\"].skeleton,\n        children: /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n          map: texture,\n          \"map-flipY\": false,\n          skinning: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Model, \"PjegZQSwX9qR4Z1JvDCrZIBs7Ks=\", false, function () {\n  return [useLoader, useLoader, useFrame, useThree, useFrame];\n});\n\n_c = Model;\n\nvar _c;\n\n$RefreshReg$(_c, \"Model\");","map":{"version":3,"sources":["C:/Users/scarleti/Desktop/Cyril/React/rigged/src/Stacy.js"],"names":["THREE","React","useEffect","useRef","useState","useThree","useLoader","useFrame","GLTFLoader","getMouseDegrees","moveJoint","mouse","joint","degreeLimit","degrees","x","y","rotation","xD","MathUtils","lerp","yD","Math","degToRad","Model","props","group","nodes","animations","texture","TextureLoader","actions","AnimationMixer","mixer","state","delta","update","current","idle","clipAction","play","forEach","clip","uncacheClip","size","width","height","mixamorigNeck","mixamorigSpine","PI","geometry","skeleton"],"mappings":"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","sourcesContent":["// Auto-generated by https://github.com/react-spring/gltfjsx\r\n\r\nimport * as THREE from \"three\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useThree, useLoader, useFrame } from \"@react-three/fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\nimport { getMouseDegrees } from \"./utils\"\r\n\r\nfunction moveJoint(mouse, joint, degreeLimit = 40) {\r\n  let degrees = getMouseDegrees(mouse.x, mouse.y, degreeLimit)\r\n  joint.rotation.xD = THREE.MathUtils.lerp(joint.rotation.xD || 0, degrees.y, 0.1)\r\n  joint.rotation.yD = THREE.MathUtils.lerp(joint.rotation.yD || 0, degrees.x, 0.1)\r\n  joint.rotation.x = THREE.Math.degToRad(joint.rotation.xD)\r\n  joint.rotation.y = THREE.Math.degToRad(joint.rotation.yD)\r\n}\r\n\r\nexport default function Model({ mouse, ...props }) {\r\n  const group = useRef()\r\n  const { nodes, animations } = useLoader(GLTFLoader, \"/stacy.glb\")\r\n  const texture = useLoader(THREE.TextureLoader, \"/stacy.jpg\")\r\n  const actions = useRef()\r\n  const [mixer] = useState(() => new THREE.AnimationMixer())\r\n  useFrame((state, delta) => mixer.update(delta))\r\n  useEffect(() => {\r\n    actions.current = { idle: mixer.clipAction(animations[8], group.current) }\r\n    actions.current.idle.play()\r\n    return () => animations.forEach((clip) => mixer.uncacheClip(clip))\r\n  }, [])\r\n\r\n  const { size } = useThree()\r\n  useFrame((state, delta) => {\r\n    const mouse = { x: size.width / 2 + (state.mouse.x * size.width) / 2, y: size.height / 2 + (-state.mouse.y * size.height) / 2 }\r\n    mixer.update(delta)\r\n    moveJoint(mouse, nodes.mixamorigNeck)\r\n    moveJoint(mouse, nodes.mixamorigSpine)\r\n  })\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <group rotation={[Math.PI / 2, 0, 0]}>\r\n        <primitive object={nodes[\"mixamorigHips\"]} />\r\n        <skinnedMesh receiveShadow castShadow geometry={nodes[\"stacy\"].geometry} skeleton={nodes[\"stacy\"].skeleton}>\r\n          <meshStandardMaterial map={texture} map-flipY={false} skinning />\r\n        </skinnedMesh>\r\n      </group>\r\n    </group>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}