{"ast":null,"code":"import _slicedToArray from \"C:/Users/scarleti/Desktop/Cyril/React/rigged - Copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\scarleti\\\\Desktop\\\\Cyril\\\\React\\\\rigged - Copy\\\\src\\\\Stacy.js\",\n    _s = $RefreshSig$();\n\n// Auto-generated by https://github.com/react-spring/gltfjsx\nimport * as THREE from \"three\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useThree, useLoader, useFrame } from \"@react-three/fiber\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { getMouseDegrees } from \"./utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Boxes() {\n  _s();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      hovered = _useState2[0],\n      set = _useState2[1];\n\n  var colorArray = useMemo(function () {\n    return Float32Array.from(new Array(1000).fill().flatMap(function (_, i) {\n      return tempColor.set(colors[i]).toArray();\n    }));\n  }, []);\n  var ref = useRef();\n  var previous = useRef();\n  useEffect(function () {\n    return void (previous.current = hovered);\n  }, [hovered]);\n  useFrame(function (state) {\n    var time = state.clock.getElapsedTime();\n    ref.current.rotation.x = Math.sin(time / 4);\n    ref.current.rotation.y = Math.sin(time / 2);\n    var i = 0;\n\n    for (var x = 0; x < 10; x++) {\n      for (var y = 0; y < 10; y++) {\n        for (var z = 0; z < 10; z++) {\n          var id = i++;\n          tempObject.position.set(5 - x, 5 - y, 5 - z);\n          tempObject.rotation.y = Math.sin(x / 4 + time) + Math.sin(y / 4 + time) + Math.sin(z / 4 + time);\n          tempObject.rotation.z = tempObject.rotation.y * 2;\n\n          if (hovered !== previous.current) {\n            tempColor.set(id === hovered ? 'white' : colors[id]).toArray(colorArray, id * 3);\n            ref.current.geometry.attributes.color.needsUpdate = true;\n          }\n\n          var scale = id === hovered ? 2 : 1;\n          tempObject.scale.set(scale, scale, scale);\n          tempObject.updateMatrix();\n          ref.current.setMatrixAt(id, tempObject.matrix);\n        }\n      }\n    }\n\n    ref.current.instanceMatrix.needsUpdate = true;\n  });\n  return /*#__PURE__*/_jsxDEV(\"instancedMesh\", {\n    ref: ref,\n    args: [null, null, 1000],\n    onPointerMove: function onPointerMove(e) {\n      return set(e.instanceId);\n    },\n    onPointerOut: function onPointerOut(e) {\n      return set(undefined);\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n      args: [0.7, 0.7, 0.7],\n      children: /*#__PURE__*/_jsxDEV(\"instancedBufferAttribute\", {\n        attachObject: ['attributes', 'color'],\n        args: [colorArray, 3]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshPhongMaterial\", {\n      vertexColors: THREE.VertexColors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Boxes, \"eoIbxcAmY9iYuI+ChRmCQmzF03U=\", false, function () {\n  return [useFrame];\n});\n\n_c = Boxes;\n\nvar _c;\n\n$RefreshReg$(_c, \"Boxes\");","map":{"version":3,"sources":["C:/Users/scarleti/Desktop/Cyril/React/rigged - Copy/src/Stacy.js"],"names":["THREE","React","useEffect","useRef","useState","useThree","useLoader","useFrame","GLTFLoader","getMouseDegrees","Boxes","hovered","set","colorArray","useMemo","Float32Array","from","Array","fill","flatMap","_","i","tempColor","colors","toArray","ref","previous","current","state","time","clock","getElapsedTime","rotation","x","Math","sin","y","z","id","tempObject","position","geometry","attributes","color","needsUpdate","scale","updateMatrix","setMatrixAt","matrix","instanceMatrix","e","instanceId","undefined","VertexColors"],"mappings":"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","sourcesContent":["// Auto-generated by https://github.com/react-spring/gltfjsx\r\n\r\nimport * as THREE from \"three\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { useThree, useLoader, useFrame } from \"@react-three/fiber\"\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\r\nimport { getMouseDegrees } from \"./utils\"\r\n\r\n\r\n\r\nexport default function Boxes() {\r\n  const [hovered, set] = useState()\r\n  const colorArray = useMemo(() => Float32Array.from(new Array(1000).fill().flatMap((_, i) => tempColor.set(colors[i]).toArray())), [])\r\n\r\n  const ref = useRef()\r\n  const previous = useRef()\r\n  useEffect(() => void (previous.current = hovered), [hovered])\r\n\r\n  useFrame((state) => {\r\n    const time = state.clock.getElapsedTime()\r\n    ref.current.rotation.x = Math.sin(time / 4)\r\n    ref.current.rotation.y = Math.sin(time / 2)\r\n    let i = 0\r\n    for (let x = 0; x < 10; x++)\r\n      for (let y = 0; y < 10; y++)\r\n        for (let z = 0; z < 10; z++) {\r\n          const id = i++\r\n          tempObject.position.set(5 - x, 5 - y, 5 - z)\r\n          tempObject.rotation.y = Math.sin(x / 4 + time) + Math.sin(y / 4 + time) + Math.sin(z / 4 + time)\r\n          tempObject.rotation.z = tempObject.rotation.y * 2\r\n          if (hovered !== previous.current) {\r\n            tempColor.set(id === hovered ? 'white' : colors[id]).toArray(colorArray, id * 3)\r\n            ref.current.geometry.attributes.color.needsUpdate = true\r\n          }\r\n          const scale = id === hovered ? 2 : 1\r\n          tempObject.scale.set(scale, scale, scale)\r\n          tempObject.updateMatrix()\r\n          ref.current.setMatrixAt(id, tempObject.matrix)\r\n        }\r\n    ref.current.instanceMatrix.needsUpdate = true\r\n  })\r\n\r\n  return (\r\n    <instancedMesh ref={ref} args={[null, null, 1000]} onPointerMove={(e) => set(e.instanceId)} onPointerOut={(e) => set(undefined)}>\r\n      <boxGeometry args={[0.7, 0.7, 0.7]}>\r\n        <instancedBufferAttribute attachObject={['attributes', 'color']} args={[colorArray, 3]} />\r\n      </boxGeometry>\r\n      <meshPhongMaterial vertexColors={THREE.VertexColors} />\r\n    </instancedMesh>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}